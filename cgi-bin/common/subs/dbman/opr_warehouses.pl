##########################################################
##		OPERATIONS : WAREHOUSE 		  ##
##########################################################

sub view_opr_warehouses {
# --------------------------------------------------------
# Forms Involved:
# Author: 
# Description: 
# Parameters:  
# Created on:
# Last Modified by / on / description:
# 				hceja / 25-Enero-2017 / Se eliminan los <br> del campo picture que añade direksys al campo blob en los saltos de linea y se establece la imagen default en caso de ser necesario. 
 
	$in{'picture'} =~ s/<br>//g;
	if( ! $in{'picture'} ){
		$in{'picture'} = '/9j/4AAQSkZJRgABAgEASABIAAD/4QgNRXhpZgAATU0AKgAAAAgABwESAAMAAAABAAEAAAEaAAUAAAABAAAAYgEbAAUAAAABAAAAagEoAAMAAAABAAIAAAExAAIAAAAcAAAAcgEyAAIAAAAUAAAAjodpAAQAAAABAAAApAAAANAACvyAAAAnEAAK/IAAACcQQWRvYmUgUGhvdG9zaG9wIENTMyBXaW5kb3dzADIwMTE6MDM6MjIgMjI6MTg6MzcAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAyKADAAQAAAABAAABEwAAAAAAAAAGAQMAAwAAAAEABgAAARoABQAAAAEAAAEeARsABQAAAAEAAAEmASgAAwAAAAEAAgAAAgEABAAAAAEAAAEuAgIABAAAAAEAAAbXAAAAAAAAAEgAAAABAAAASAAAAAH/2P/gABBKRklGAAECAABIAEgAAP/tAAxBZG9iZV9DTQAB/+4ADkFkb2JlAGSAAAAAAf/bAIQADAgICAkIDAkJDBELCgsRFQ8MDA8VGBMTFRMTGBEMDAwMDAwRDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAENCwsNDg0QDg4QFA4ODhQUDg4ODhQRDAwMDAwREQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8AAEQgAoAB0AwEiAAIRAQMRAf/dAAQACP/EAT8AAAEFAQEBAQEBAAAAAAAAAAMAAQIEBQYHCAkKCwEAAQUBAQEBAQEAAAAAAAAAAQACAwQFBgcICQoLEAABBAEDAgQCBQcGCAUDDDMBAAIRAwQhEjEFQVFhEyJxgTIGFJGhsUIjJBVSwWIzNHKC0UMHJZJT8OHxY3M1FqKygyZEk1RkRcKjdDYX0lXiZfKzhMPTdePzRieUpIW0lcTU5PSltcXV5fVWZnaGlqa2xtbm9jdHV2d3h5ent8fX5/cRAAICAQIEBAMEBQYHBwYFNQEAAhEDITESBEFRYXEiEwUygZEUobFCI8FS0fAzJGLhcoKSQ1MVY3M08SUGFqKygwcmNcLSRJNUoxdkRVU2dGXi8rOEw9N14/NGlKSFtJXE1OT0pbXF1eX1VmZ2hpamtsbW5vYnN0dXZ3eHl6e3x//aAAwDAQACEQMRAD8A71JJJJSkkkklKSSTPc1jDZY4MYOXuIa3/OckpdJUn9a6Swwclrv6gc//AM9tcmHXOkkx9oie5Y8D/OLElN';
		$in{'picture'}.= '5JDoyMfIG7HtZcBqdjg4j4t+k1ESUpJJJJSkkkklKSSSSU/wD/0O9SSSSUpJJBzMkYmJdkkSamFzQe7vo1j/txzUlNTqvWK8D9DWBblEAhp+iwH6L7o/6NS5rIyL8qz1cmx1r+xdwPJjfo1/2FBznve59ji+x5LnvPJJ5KZJSkkkkkrglrg9pLXt1a9pIcPg5vuW30z6wO3CjqLpB0blcEHwyI9u3/AIf/ALd/0iw0uySHuiCDB5CSyvq7mPvxH49h3PxSGtJ1JrdPp/8Abex9a1UlKSSSSUpJJJJT/9HvUkkklKWZ9Y37ellvd9tbfu3Wf98Wmsr6ygnpzD+7e0n5tsb/ABSU80kkkklSSSSSlJJJJKdf6svjOuZ+/ST/AJrmH/vy6Ncz9Wwf2m4+FD/xNa6ZJCkkkklKSSSSU//S71JJJJSlidf6livqt6c0PNzHMJeANgc073M3F2/6H8hba5PrbCzq2RP55bYPg5reP7SSmikkkklSSSSSlJJJJKb/AEjqGP0++269r3B9YYPTAJHuD3Oducz91dU1zXNDmnc1wDmkdwRuaf8ANXCunaY1MQB5nhdzWw11V1HmtjWH+y0M/gkhkkkkkpSSSSSn/9PvUkkklKWZ1vpj8ytt+OJyaRGyQN7J3bPd/hGO91f+YtNJJTxF1N1FhqvYarGgEsdyARub/wBFQW19Z8eL6MoDSxpqd/WYd7P+g9YqSVJJJJKUkTAk8BJWem4/2nqGPT+aXhz/AOqz9I//AKLUlOh0nomQcoXZ1Tqq6SHNY+Je8as9v+iZ9N3766HlImSSe+qSSFJJJJKUkkkkp//U71JJJJSkkkklOX9ZI/Zgnn1mbfjFn/fVzK1ev9Q+0XnDYB6WM8y+dXPja/8Ak7GSspJSkkkkkqWt9Wtv7Qsn6XoO2/51e5ZKPhZj8HJbk1tDy0OBYZALXCHDT/opIezSUKrWXVMurM12ND2nyIU0lKSSSSUpJJJJT//V71JJRe9ldZttcK62/Se8w0f2ikpkqfVOos6fjlwI+0vEY9fck/4Ut/0df0ln531kAmvp7Z/7sWDT/rNR/wCrt/7bWG977LHW2uNlj9XPcZJ+JSUxHHM+JPJ80kkkkqSSSSUpJJJJTu/V7qLGs+wXuDTJdjOOgO4y+j+tv99S3YjQrhSARB1BWn0/r2VjBtV4OTQNBJ/SNH8h7vp/1LUkPTpIOJmYuazfjWCyPpM4e3+vWfc1GSUpJJJJT//W3sn6';
		$in{'picture'}.= 'zWEluHQGt7WXe4/H0mexv+fYsjIvvyrPUyLHWv7F2oH9Rn0Gf2UNJJSkkkkkqSSSSUpJJJJSkkkklKSSSSUuCWuD2kte36LmmCPg5vuWnjfWLPpAbcG5TB3d7bI/4xn0v7bFlpJKel/5x9P+z+rts9Xj7PGs/wDG/wA1s/lpLmkkkP8A/9eaSSSSVJJJJKUkkkkpSSSSSlJJJJKUkkkkpSSSSSlJJJJKf//QmkkkklSSSSSlJJJJKUkkkkpSSSSSlJJJJKUkkkkpSSSSSn//2f/tDOhQaG90b3Nob3AgMy4wADhCSU0EJQAAAAAAEAAAAAAAAAAAAAAAAAAAAAA4QklNA+0AAAAAABAASAAAAAEAAQBIAAAAAQABOEJJTQQmAAAAAAAOAAAAAAAAAAAAAD+AAAA4QklNBA0AAAAAAAQAAAB4OEJJTQQZAAAAAAAEAAAAHjhCSU0D8wAAAAAACQAAAAAAAAAAAQA4QklNBAoAAAAAAAEAADhCSU0nEAAAAAAACgABAAAAAAAAAAI4QklNA/UAAAAAAEgAL2ZmAAEAbGZmAAYAAAAAAAEAL2ZmAAEAoZmaAAYAAAAAAAEAMgAAAAEAWgAAAAYAAAAAAAEANQAAAAEALQAAAAYAAAAAAAE4QklNA/gAAAAAAHAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAOEJJTQQAAAAAAAACAAA4QklNBAIAAAAAAAIAADhCSU0EMAAAAAAAAQEAOEJJTQQtAAAAAAAGAAEAAAACOEJJTQQIAAAAAAAQAAAAAQAAAkAAAAJAAAAAADhCSU0EHgAAAAAABAAAAAA4QklNBBoAAAAAA0kAAAAGAAAAAAAAAAAAAAETAAAAyAAAAAoAVQBuAHQAaQB0AGwAZQBkAC0AMQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAyAAAARMAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAG51bGwAAAACAAAABmJvdW5kc09iamMAAAABAAAAAAAAUmN0MQAAAAQAAAAAVG9wIGxvbmcAAAAAAAAAAExlZnRsb25nAAAAAAAAAABCdG9tbG9uZw';
		$in{'picture'}.= 'AAARMAAAAAUmdodGxvbmcAAADIAAAABnNsaWNlc1ZsTHMAAAABT2JqYwAAAAEAAAAAAAVzbGljZQAAABIAAAAHc2xpY2VJRGxvbmcAAAAAAAAAB2dyb3VwSURsb25nAAAAAAAAAAZvcmlnaW5lbnVtAAAADEVTbGljZU9yaWdpbgAAAA1hdXRvR2VuZXJhdGVkAAAAAFR5cGVlbnVtAAAACkVTbGljZVR5cGUAAAAASW1nIAAAAAZib3VuZHNPYmpjAAAAAQAAAAAAAFJjdDEAAAAEAAAAAFRvcCBsb25nAAAAAAAAAABMZWZ0bG9uZwAAAAAAAAAAQnRvbWxvbmcAAAETAAAAAFJnaHRsb25nAAAAyAAAAAN1cmxURVhUAAAAAQAAAAAAAG51bGxURVhUAAAAAQAAAAAAAE1zZ2VURVhUAAAAAQAAAAAABmFsdFRhZ1RFWFQAAAABAAAAAAAOY2VsbFRleHRJc0hUTUxib29sAQAAAAhjZWxsVGV4dFRFWFQAAAABAAAAAAAJaG9yekFsaWduZW51bQAAAA9FU2xpY2VIb3J6QWxpZ24AAAAHZGVmYXVsdAAAAAl2ZXJ0QWxpZ25lbnVtAAAAD0VTbGljZVZlcnRBbGlnbgAAAAdkZWZhdWx0AAAAC2JnQ29sb3JUeXBlZW51bQAAABFFU2xpY2VCR0NvbG9yVHlwZQAAAABOb25lAAAACXRvcE91dHNldGxvbmcAAAAAAAAACmxlZnRPdXRzZXRsb25nAAAAAAAAAAxib3R0b21PdXRzZXRsb25nAAAAAAAAAAtyaWdodE91dHNldGxvbmcAAAAAADhCSU0EKAAAAAAADAAAAAE/8AAAAAAAADhCSU0EFAAAAAAABAAAAAM4QklNBAwAAAAABvMAAAABAAAAdAAAAKAAAAFcAADZgAAABtcAGAAB/9j/4AAQSkZJRgABAgAASABIAAD/7QAMQWRvYmVfQ00AAf/uAA5BZG9iZQBkgAAAAAH/2wCEAAwICAgJCAwJCQwRCwoLERUPDAwPFRgTExUTExgRDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBDQsLDQ4NEA4OEBQODg4UFA4ODg4UEQwMDAwMEREMDAwMDAwRDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/AABEIAKAAdAMBIgACEQEDEQH/3QAEAAj/xAE/AAABBQEBAQEBAQAAAAAAAAAD';
		$in{'picture'}.= 'AAECBAUGBwgJCgsBAAEFAQEBAQEBAAAAAAAAAAEAAgMEBQYHCAkKCxAAAQQBAwIEAgUHBggFAwwzAQACEQMEIRIxBUFRYRMicYEyBhSRobFCIyQVUsFiMzRygtFDByWSU/Dh8WNzNRaisoMmRJNUZEXCo3Q2F9JV4mXys4TD03Xj80YnlKSFtJXE1OT0pbXF1eX1VmZ2hpamtsbW5vY3R1dnd4eXp7fH1+f3EQACAgECBAQDBAUGBwcGBTUBAAIRAyExEgRBUWFxIhMFMoGRFKGxQiPBUtHwMyRi4XKCkkNTFWNzNPElBhaisoMHJjXC0kSTVKMXZEVVNnRl4vKzhMPTdePzRpSkhbSVxNTk9KW1xdXl9VZmdoaWprbG1ub2JzdHV2d3h5ent8f/2gAMAwEAAhEDEQA/AO9SSSSUpJJJJSkkkz3NYw2WODGDl7iGt/znJKXSVJ/WuksMHJa7+oHP/wDPbXJh1zpJMfaInuWPA/zixJTeSQ6MjHyBux7WXAanY4OI+LfpNRElKSSSSUpJJJJSkkkklP8A/9DvUkkklKSSQczJGJiXZJEmphc0Hu76NY/7cc1JTU6r1ivA/Q1gW5RAIafosB+i+6P+jUuayMi/Ks9XJsda/sXcDyY36Nf9hQc573ufY4vseS57zySeSmSUpJJJJK4Ja4PaS17dWvaSHD4Ob7lt9M+sDtwo6i6QdG5XBB8MiPbt/wCH/wC3f9IsNLskh7oggweQksr6u5j78R+PYdz8UhrSdSa3T6f/AG3sfWtVJSkkkklKSSSSU//R71JJJJSlmfWN+3pZb3fbW37t1n/fFprK+soJ6cw/u3tJ+bbG/wAUlPNJJJJJUkkkkpSSSSSnX+rL4zrmfv0k/wCa5h/78ujXM/VsH9puPhQ/8TWumSQpJJJJSkkkklP/0u9SSSSUpYnX+pYr6renNDzcxzCXgDYHNO9zNxdv+h/IW2uT62ws6tkT+eW2D4Oa3j+0kpopJJJJUkkkkpSSSSSm/wBI6hj9Pvtuva9wfWGD0wCR7g9znbnM/dXVNc1zQ5p3NcA5pHcEbmn/ADVwrp2mNTEAeZ4Xc1sNdVdR5rY1h/stDP4JIZJJJJKUkkkkp//T71JJJJSlmdb6Y/MrbfjicmkRskDeyd2z3f4RjvdX/mLTSSU8RdTdRYar2GqxoBLHcgEbm/8ARUFtfWfHi+jKA0saanf1mHez/oPWKklSSSSSlJEwJPASVnpuP9p6hj0/ml';
		$in{'picture'}.= '4c/wDqs/SP/wCi1JTodJ6JkHKF2dU6qukhzWPiXvGrPb/omfTd++uh5SJkknvqkkhSSSSSlJJJJKf/1O9SSSSUpJJJJTl/WSP2YJ59Zm34xZ/31cytXr/UPtF5w2AeljPMvnVz42v/AJOxkrKSUpJJJJKlrfVrb+0LJ+l6Dtv+dXuWSj4WY/ByW5NbQ8tDgWGQC1whw0/6KSHs0lCq1l1TLqzNdjQ9p8iFNJSkkkklKSSSSU//1e9SSUXvZXWbbXCutv0nvMNH9opKZKn1TqLOn45cCPtLxGPX3JP+FLf9HX9JZ+d9ZAJr6e2f+7Fg0/6zUf8Aq7f+21hve+yx1trjZY/Vz3GSfiUlMRxzPiTyfNJJJJKkkkklKSSSSU7v1e6ixrPsF7g0yXYzjoDuMvo/rb/fUt2I0K4UgEQdQVp9P69lYwbVeDk0DQSf0jR/Ie76f9S1JD06SDiZmLms341gsj6TOHt/r1n3NRklKSSSSU//1t7J+s1hJbh0Bre1l3uPx9Jnsb/n2LIyL78qz1Mix1r+xdqB/UZ9Bn9lDSSUpJJJJKkkkklKSSSSUpJJJJSkkkklLglrg9pLXt+i5pgj4Ob7lp431iz6QG3BuUwd3e2yP+MZ9L+2xZaSSnpf+cfT/s/q7bPV4+zxrP8Axv8ANbP5aS5pJJD/AP/XmkkkklSSSSSlJJJJKUkkkkpSSSSSlJJJJKUkkkkpSSSSSn//0JpJJJJUkkkkpSSSSSlJJJJKUkkkkpSSSSSlJJJJKUkkkkp//9kAOEJJTQQhAAAAAABVAAAAAQEAAAAPAEEAZABvAGIAZQAgAFAAaABvAHQAbwBzAGgAbwBwAAAAEwBBAGQAbwBiAGUAIABQAGgAbwB0AG8AcwBoAG8AcAAgAEMAUwAzAAAAAQA4QklNBAYAAAAAAAcAAgAAAAEBAP/hD85odHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDQuMS1jMDM2IDQ2LjI3NjcyMCwgTW9uIEZlYiAxOSAyMDA3IDIyOjQwOjA4ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMu';
		$in{'picture'}.= 'b3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eGFwTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgZGM6Zm9ybWF0PSJpbWFnZS9qcGVnIiB4YXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzMgV2luZG93cyIgeGFwOkNyZWF0ZURhdGU9IjIwMTEtMDMtMjJUMjI6MTg6MzctMDQ6MDAiIHhhcDpNb2RpZnlEYXRlPSIyMDExLTAzLTIyVDIyOjE4OjM3LTA0OjAwIiB4YXA6TWV0YWRhdGFEYXRlPSIyMDExLTAzLTIyVDIyOjE4OjM3LTA0OjAwIiB4YXBNTTpEb2N1bWVudElEPSJ1dWlkOkFCNDA2MkRDRjM1NEUwMTE4NzVGODUzN0RBM0QyNDU3IiB4YXBNTTpJbnN0YW5jZUlEPSJ1dWlkOkFDNDA2MkRDRjM1NEUwMTE4NzVGODUzN0RBM0QyNDU3IiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHBob3Rvc2hvcDpIaXN0b3J5PSIiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjcyMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiB0aWZmOk5hdGl2ZURpZ2VzdD0iMjU2LDI1NywyNTgsMjU5LD';
		$in{'picture'}.= 'I2MiwyNzQsMjc3LDI4NCw1MzAsNTMxLDI4MiwyODMsMjk2LDMwMSwzMTgsMzE5LDUyOSw1MzIsMzA2LDI3MCwyNzEsMjcyLDMwNSwzMTUsMzM0MzI7RjIzMzcxNzk2NDhFMzNDNzEwRkMwQTIxMUQ1MEI0NjIiIGV4aWY6UGl4ZWxYRGltZW5zaW9uPSIyMDAiIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSIyNzUiIGV4aWY6Q29sb3JTcGFjZT0iMSIgZXhpZjpOYXRpdmVEaWdlc3Q9IjM2ODY0LDQwOTYwLDQwOTYxLDM3MTIxLDM3MTIyLDQwOTYyLDQwOTYzLDM3NTEwLDQwOTY0LDM2ODY3LDM2ODY4LDMzNDM0LDMzNDM3LDM0ODUwLDM0ODUyLDM0ODU1LDM0ODU2LDM3Mzc3LDM3Mzc4LDM3Mzc5LDM3MzgwLDM3MzgxLDM3MzgyLDM3MzgzLDM3Mzg0LDM3Mzg1LDM3Mzg2LDM3Mzk2LDQxNDgzLDQxNDg0LDQxNDg2LDQxNDg3LDQxNDg4LDQxNDkyLDQxNDkzLDQxNDk1LDQxNzI4LDQxNzI5LDQxNzMwLDQxOTg1LDQxOTg2LDQxOTg3LDQxOTg4LDQxOTg5LDQxOTkwLDQxOTkxLDQxOTkyLDQxOTkzLDQxOTk0LDQxOTk1LDQxOTk2LDQyMDE2LDAsMiw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwyMCwyMiwyMywyNCwyNSwyNiwyNywyOCwzMDsxRTFBRDRERTNFOEI1QUJGOTU5NzkwNDREQTFBNERCMyI+IDx4YXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ1dWlkOkY5REE1NDE2RjE1NEUwMTE4NzVGODUzN0RBM0QyNDU3IiBzdFJlZjpkb2N1bWVudElEPSJ1dWlkOkY5REE1NDE2RjE1NEUwMTE4NzVGODUzN0RBM0QyNDU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg';
		$in{'picture'}.= 'ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC';
		$in{'picture'}.= 'AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg';
		$in{'picture'}.= 'ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/eHBhY2tldCBlbmQ9InciPz7/4gxYSUNDX1BST0ZJTEUAAQEAAAxITGlubwIQAABtbnRyUkdCIFhZWiAHzgACAAkABgAxAABhY3NwTVNGVAAAAABJRUMgc1JHQgAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLUhQICAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABFjcHJ0AAABUAAAADNkZXNjAAABhAAAAGx3dHB0AAAB8AAAABRia3B0AAACBAAAABRyWFlaAAACGAAAABRnWFlaAAACLAAAABRiWFlaAAACQAAAABRkbW5kAAACVAAAAHBkbWRkAAACxAAAAIh2dWVkAAADTAAAAIZ2aWV3AAAD1AAAACRsdW1pAAAD+AAAABRtZWFzAAAEDAAAACR0ZWNoAAAEMAAAAAxyVFJDAAAEPAAACAxnVFJDAAAEPAAACAxiVFJDAAAEPAAACAx0ZXh0AAAAAENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueQAAZGVzYwAAAAAAAAASc1JHQiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAABJzUkdCIElFQzYxOTY2LTIuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWFlaIAAAAAAAAPNRAAEAAAABFsxYWVogAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z2Rlc2MAAAAAAAAAFklFQyBodHRwOi8vd3d3LmllYy5jaAAAAAAAAAAAAAAAFklFQyBodHRwOi8vd3d3LmllYy5jaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABkZXNjAAAAAAAAAC5JRUMgNjE5NjYtMi4xIERlZmF1bHQgUkdCIGNvbG91ciBzcGFjZSAtIHNSR0IAAAAAAAAAAAAAAC5JRUMgNjE5NjYtMi4xIERlZmF1bHQgUkdCIGNvbG91ciBzcGFjZSAtIHNSR0IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZGVzYwAAAAAAAAAsUm';
		$in{'picture'}.= 'VmZXJlbmNlIFZpZXdpbmcgQ29uZGl0aW9uIGluIElFQzYxOTY2LTIuMQAAAAAAAAAAAAAALFJlZmVyZW5jZSBWaWV3aW5nIENvbmRpdGlvbiBpbiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHZpZXcAAAAAABOk/gAUXy4AEM8UAAPtzAAEEwsAA1yeAAAAAVhZWiAAAAAAAEwJVgBQAAAAVx/nbWVhcwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAo8AAAACc2lnIAAAAABDUlQgY3VydgAAAAAAAAQAAAAABQAKAA8AFAAZAB4AIwAoAC0AMgA3ADsAQABFAEoATwBUAFkAXgBjAGgAbQByAHcAfACBAIYAiwCQAJUAmgCfAKQAqQCuALIAtwC8AMEAxgDLANAA1QDbAOAA5QDrAPAA9gD7AQEBBwENARMBGQEfASUBKwEyATgBPgFFAUwBUgFZAWABZwFuAXUBfAGDAYsBkgGaAaEBqQGxAbkBwQHJAdEB2QHhAekB8gH6AgMCDAIUAh0CJgIvAjgCQQJLAlQCXQJnAnECegKEAo4CmAKiAqwCtgLBAssC1QLgAusC9QMAAwsDFgMhAy0DOANDA08DWgNmA3IDfgOKA5YDogOuA7oDxwPTA+AD7AP5BAYEEwQgBC0EOwRIBFUEYwRxBH4EjASaBKgEtgTEBNME4QTwBP4FDQUcBSsFOgVJBVgFZwV3BYYFlgWmBbUFxQXVBeUF9gYGBhYGJwY3BkgGWQZqBnsGjAadBq8GwAbRBuMG9QcHBxkHKwc9B08HYQd0B4YHmQesB78H0gflB/gICwgfCDIIRghaCG4IggiWCKoIvgjSCOcI+wkQCSUJOglPCWQJeQmPCaQJugnPCeUJ+woRCicKPQpUCmoKgQqYCq4KxQrcCvMLCwsiCzkLUQtpC4ALmAuwC8gL4Qv5DBIMKgxDDFwMdQyODKcMwAzZDPMNDQ0mDUANWg10DY4NqQ3DDd4N+A4TDi4OSQ5kDn8Omw62DtIO7g8JDyUPQQ9eD3oPlg+zD88P7BAJECYQQxBhEH4QmxC5ENcQ9RETETERTxFtEYwRqhHJEegSBxImEkUSZBKEEqMSwxLjEwMTIxNDE2MTgxOkE8UT5RQGFCcUSRRqFIsUrRTOFPAVEhU0FVYVeBWbFb0V4BYDFiYWSRZsFo8WshbWFvoXHRdBF2UXiReuF9IX9xgbGEAY';
		$in{'picture'}.= 'ZRiKGK8Y1Rj6GSAZRRlrGZEZtxndGgQaKhpRGncanhrFGuwbFBs7G2MbihuyG9ocAhwqHFIcexyjHMwc9R0eHUcdcB2ZHcMd7B4WHkAeah6UHr4e6R8THz4faR+UH78f6iAVIEEgbCCYIMQg8CEcIUghdSGhIc4h+yInIlUigiKvIt0jCiM4I2YjlCPCI/AkHyRNJHwkqyTaJQklOCVoJZclxyX3JicmVyaHJrcm6CcYJ0kneierJ9woDSg/KHEooijUKQYpOClrKZ0p0CoCKjUqaCqbKs8rAis2K2krnSvRLAUsOSxuLKIs1y0MLUEtdi2rLeEuFi5MLoIuty7uLyQvWi+RL8cv/jA1MGwwpDDbMRIxSjGCMbox8jIqMmMymzLUMw0zRjN/M7gz8TQrNGU0njTYNRM1TTWHNcI1/TY3NnI2rjbpNyQ3YDecN9c4FDhQOIw4yDkFOUI5fzm8Ofk6Njp0OrI67zstO2s7qjvoPCc8ZTykPOM9Ij1hPaE94D4gPmA+oD7gPyE/YT+iP+JAI0BkQKZA50EpQWpBrEHuQjBCckK1QvdDOkN9Q8BEA0RHRIpEzkUSRVVFmkXeRiJGZ0arRvBHNUd7R8BIBUhLSJFI10kdSWNJqUnwSjdKfUrESwxLU0uaS+JMKkxyTLpNAk1KTZNN3E4lTm5Ot08AT0lPk0/dUCdQcVC7UQZRUFGbUeZSMVJ8UsdTE1NfU6pT9lRCVI9U21UoVXVVwlYPVlxWqVb3V0RXklfgWC9YfVjLWRpZaVm4WgdaVlqmWvVbRVuVW+VcNVyGXNZdJ114XcleGl5sXr1fD19hX7NgBWBXYKpg/GFPYaJh9WJJYpxi8GNDY5dj62RAZJRk6WU9ZZJl52Y9ZpJm6Gc9Z5Nn6Wg/aJZo7GlDaZpp8WpIap9q92tPa6dr/2xXbK9tCG1gbbluEm5rbsRvHm94b9FwK3CGcOBxOnGVcfByS3KmcwFzXXO4dBR0cHTMdSh1hXXhdj52m3b4d1Z3s3gReG54zHkqeYl553pGeqV7BHtje8J8IXyBfOF9QX2hfgF+Yn7CfyN/hH/lgEeAqIEKgWuBzYIwgpKC9INXg7qEHYSAhOOFR4Wrhg6GcobXhzuHn4gEiGmIzokziZmJ/opkisqLMIuWi/yMY4zKjTGNmI3/jmaOzo82j56QBpBukNaRP5GokhGSepLjk02TtpQglIqU9JVflcmWNJaflwqXdZfgmEyYuJkkmZCZ/J';
		$in{'picture'}.= 'pomtWbQpuvnByciZz3nWSd0p5Anq6fHZ+Ln/qgaaDYoUehtqImopajBqN2o+akVqTHpTilqaYapoum/adup+CoUqjEqTepqaocqo+rAqt1q+msXKzQrUStuK4trqGvFq+LsACwdbDqsWCx1rJLssKzOLOutCW0nLUTtYq2AbZ5tvC3aLfguFm40blKucK6O7q1uy67p7whvJu9Fb2Pvgq+hL7/v3q/9cBwwOzBZ8Hjwl/C28NYw9TEUcTOxUvFyMZGxsPHQce/yD3IvMk6ybnKOMq3yzbLtsw1zLXNNc21zjbOts83z7jQOdC60TzRvtI/0sHTRNPG1EnUy9VO1dHWVdbY11zX4Nhk2OjZbNnx2nba+9uA3AXcit0Q3ZbeHN6i3ynfr+A24L3hROHM4lPi2+Nj4+vkc+T85YTmDeaW5x/nqegy6LzpRunQ6lvq5etw6/vshu0R7ZzuKO6070DvzPBY8OXxcvH/8ozzGfOn9DT0wvVQ9d72bfb794r4Gfio+Tj5x/pX+uf7d/wH/Jj9Kf26/kv+3P9t////7gAOQWRvYmUAZIAAAAAB/9sAhAAIBgYGBgYIBgYIDAgHCAwOCggICg4QDQ0ODQ0QEQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQkICAkKCQsJCQsOCw0LDhEODg4OEREMDAwMDBERDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAETAMgDASIAAhEBAxEB/90ABAAN/8QBogAAAAcBAQEBAQAAAAAAAAAABAUDAgYBAAcICQoLAQACAgMBAQEBAQAAAAAAAAABAAIDBAUGBwgJCgsQAAIBAwMCBAIGBwMEAgYCcwECAxEEAAUhEjFBUQYTYSJxgRQykaEHFbFCI8FS0eEzFmLwJHKC8SVDNFOSorJjc8I1RCeTo7M2F1RkdMPS4ggmgwkKGBmElEVGpLRW01UoGvLj88TU5PRldYWVpbXF1eX1ZnaGlqa2xtbm9jdHV2d3h5ent8fX5/c4SFhoeIiYqLjI2Oj4KTlJWWl5iZmpucnZ6fkqOkpaanqKmqq6ytrq+hEAAgIBAgMFBQQFBgQIAwNtAQACEQMEIRIxQQVRE2EiBnGBkTKhsfAUwdHhI0IVUmJy8TMkNEOCFpJTJaJjssIHc9I14kSDF1STCAkKGBkmNkUaJ2R0VTfyo7PDKCnT4/OElKS0xNTk9GV1hZWl';
		$in{'picture'}.= 'tcXV5fVGVmZ2hpamtsbW5vZHV2d3h5ent8fX5/c4SFhoeIiYqLjI2Oj4OUlZaXmJmam5ydnp+So6SlpqeoqaqrrK2ur6/9oADAMBAAIRAxEAPwDrebNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV//0Ot5s2bFXZs2bFXZs2bFXZs2bFXZsSuLmC0iae5kEca9WY0+ge+Rm+84GpTToQR/v2Wv4Rin/E8VZXmzm8+t6tcGsl3IB4IfTH3JwwE7PI3KRi58XJJ/42xV6rmzlG3h+GLRXNzB/cTPF/qMV/4jir1HNkBtvM2r25AaUToBTjKoP/DLwb/hskeneZ7C9ok5+qynYBzVD8pOn/B8cVTvNmzYq7NmzYq7NmzYq7NmzYq7NmzYq//R63mzZsVdmzZsVdmzZsVdgDVdWt9KhDy/FK9fSiB3anU/5Kju2CLy6israS6m+xEKkDqT0AHuxznF7fXGoXL3NwRzYiigGigfZVf9X/h8VXX+o3eozetcvyPREFQqj/IX/jZsC5s2KXZs2bFXZs2bFXZXyNaCvhQ+2XmxVPtF8xzWRW2vC0tpsFPV4x4j+ZP8j9j9jJtHIksayxsHjcBkYbgg7gjOV5I/K+sNBMmmzmsExPok/sOfipX+Vz/wL4oZnmzZsVdmzZsVdmzZsVdmzZsVf//S63mzZsVdmzZsVdmzZsVYx5yuWWC2tFNFkYySU60SgX/Y1fIhh/5vcNqcaVrwhUU8CWcn/jXCDFXZs2bFLs2bNirs2bNirs2bNirswJBDLUMDUGtCKHkpXNmxV6fZ3H1u0guaUMqK5A7EipH+xOL4UeWZOejQCtShdTX/AFiR/wAKRhvih2bNmxV2bNmxV2bNmxV//9PrebNmxV2bNmxV2bNmxV5/5nYtrVyP5RGB/wAArf8AG2FOG3mYEa1cnsfT+700wpxV2bNmxS7NmzYq7NmzYq7NmzYq7NmzYqzbygxOlyA/szsP+EQ/xyQZH/J4P6Mlr3nb/iKZIMUOzZs2KuzZs2KuzZs2Kv8A/9TrebNmxV2bNmxV2bNhTrusHSYEMah55iRGGrxAWhZmoQe+Ksd83Jx1VG/nhU/cWX+GEODdT1S41WRJbhUVo14D0wQCKkj7THxwFirs2bNil2bNmxV2bNmxV2bNmxV2bNmxVnvlZOOjxNT+8Z2Pv8RX/jXDnIHYeZb2xhhtliie3i';
		$in{'picture'}.= '2pRlcgsSfi5U7/AMmTmGVLiGOeP7Eqq6V60YchihfmzZsVdmzZsVdmzZsVf//V63mzZsVdmzZsVdkW86KeFm/YGQH6eGSnCXzRbPcaS7Id7dhMQO4AKsP+H5f7HFWB5s1M2KXZs2bFXZs2bFXZs2bFXZs2bFXZs2bFXf1pnTdOUpp9ojdVgjB+YQZze0ga7uYbdOsrqlR2BNOWdRAAFB0HTFDs2bNirs2bNirs2bNir//W63mzZsVdmzZsVdlMqurI4DIwKsp3BB2IOXmxV53rektpV1wWrW8lWgc+HdD7r+1hbUeOdSmghuYzFcRrLGeqOAw+45DfNlhDaT20tvGsUUqlCiLxHJDX9n+b1MU2x/NmzYq7NmzYq7NmzYq7NmzYq7NXudvnmqNvfJ3o2j2K6daST28ckxX1fUZQT8ZLjrX7IbjiqE8raP6KDU7haSuCIEIpxU7Fz/lMNl/4r/18k2bNih2bNmxV2bNmxV2bNmxV/9frebNmxV2bNmxV2bNmxV2E/me1NzpMjKCXtyJgB3C7N/wrFsOMbJGkqNFIKo4KsPEEUIxV5Xmy3Ro3aNx8SEqfmv2srFLs2bNirs2bNirs2bNiqvY2rXt5DarUGVwrGnQV+I/7Fc6cAFAUCgGwHtkJ8owCTUnmYVEMTFT4MzBVP/Ac8m+KHZs2bFXZs2bFXZs2bFXZs2bFX//Q63mzZsVdmzZsVdmzZsVdmJABJ6Dc5sJte1i1sreW0YlrieNlVVHTkOILHt1xVgkr+pI8h6sS3/BHljc2bFLs2bNirs2bNirs2bNirIvJ0lL+ePs8VfpVh/zdk0zm2kXq6dfxXTqSi1DqvUhhx2zoVpdw3tulzbnlG427H5HFCvmzZsVdmzZsVdmzZsVdmzZsVf/R63mzZsVdmzZsVdmzZsVWu6xo0jniiAszHoANyc5pqF49/eTXTbeq1VU9lGyj/gVyT+a9VEUP6Mhb95KKz0P2U7L/AM9Mh+KuzZs2KXZs2bFXZs2bFXZs2bFXZJ/KF9wlk09z8MlZYvmKcl/4Aj/gcjGPgnltpo7iI8ZImDoff/ml8Vep5sC6ffQ6japdQnZh8S91bup+WCsUOzZs2KuzZs2KuzZs2Kv/0ut5s2bFXZs2EmpeZrGx5RQH6zcDbih+AH/Kf/mnFU5d0iRpJGCIoqzMaAD3JyLat5r2aDSx7NcsP+Tan/iWEGoapeam/K7eqA/DEuyAewwHirbuzszuSzsSWZjUn/m7';
		$in{'picture'}.= 'KzZsUuzZs2KuzZs2KuzZs2KuzZs2KuzZs2Koqx1G706X1rV6dmQ7o3zHhk00rzDZ6iBG59G47xsdj/qNkByhWoI2I6V64rT1fNkF0vzLeWNIrn/SLcbCpo6j2Ph/k5LrHVLLUU5W0gLftRnZ19mXFCMzZs2KuzZs2Kv/0+rT3NvbIZLiVYkH7TkD9eEd75tsYVK2am4k7GhVPvPxH/gchs001xJ6txI0knTm55H78ZiqPvtZ1LUKieYiMmhijPFKe4HXC8D6PDxr7ZebFLs2bNirs2bNirs2bNirs2bNirs2bNirs2bNirs2bNirs2bNirstGZGEiEq4/aUkH/Y5WbFU8sPNOoWpC3P+kwj+bZx8m/5rySWnmPSrvivq+jI3RJfhP3/Z/wCGzn+VTvT+3FaerKysOSkMD0I3GbOb2Gq32mvW2k+A/ajb4kP0fs5sUP8A/9RXNmzYpdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVf/VVzZs2KXZs2bFXZs2bFXZs2bFXZs2bFXZs2bFXZs2bFXZs2bFXZs2bFXZs2bFXZs2bFXZs2bFXZs2bFX/1lc2bNil2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV2bNmxV/9dXNmzYpdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVdmzZsVf/QVzZ56zYpfQubPPWbFX0Lmzz1mxV9C5s89ZsVfQubPPWbFX0Lmzz1mxV9C5s89ZsVfQubPPWbFX0Lmzz1mxV9C5s89ZsVfQubPPWbFX0Lmzz1mxV9C5s89ZsVf//Z';
	}

	
	if ($in{'wmanager'}){
		#($db,$id_name,$id_value,$field)
		$in{'wmanager_name'} = &load_db_names('admin_users','ID_admin_users',$in{'wmanager'},'[Firstname] [Lastname]');
	}
	

	$va{'waccounts'} = '';
	if( $in{'id_accounts'} ){
		my $sql = "SELECT ID_accounting, Name FROM sl_accounts WHERE ID_accounts=".int($in{'id_accounts'}).";";
		my $sth = &Do_SQL($sql);
		my $accounts_details = $sth->fetchrow_hashref();

		$va{'waccounts'} = $in{'id_accounts'}.' : '.$accounts_details->{'Name'}.' ['.$accounts_details->{'ID_accounting'}.']';
	}

	if( $in{'deliveryzones'} and $in{'deliveryzones'} ne '' ){
		my $sql = "SELECT ID_zones, Name FROM sl_zones WHERE ID_zones IN(".&filter_values($in{'deliveryzones'}).");";
		my $sth = &Do_SQL($sql);
		$in{'deliveryzones_descrip'} = '';
		while( my $rec = $sth->fetchrow_hashref() ){
			$in{'deliveryzones_descrip'} .= $rec->{'ID_zones'}.' :: '.$rec->{'Name'}.'<br />';
		}
	}else{
		$in{'deliveryzones_descrip'} = 'TODAS LAS ZONAS';
	}

	$va{'sty_deliveryzones'} = ( $in{'type'} eq 'Physical' ) ? 'inline-block' : 'none';

}

sub del_opr_warehouse {
# --------------------------------------------------------

}

sub advsearch_opr_warehouse{
# --------------------------------------------------------
# Forms Involved: 
# Created on: 16/may/2008 7:48AM GMT -6
# Last Modified on:
# Last Modified by:
# Author: MCC C. Gabriel Varela S.
# Description : Se incluye el poder buscar por un ID de producto
# Parameters : 
	if($in{'productssltvid'})	{
		my ($sth)=&Do_SQL("SELECT DISTINCT (ID_warehouses) FROM sl_warehouses_location WHERE ID_products =$in{'productssltvid'}");
		while($rec=$sth->fetchrow)		{
			$in{'id_warehouses'}.="|$rec";
		}
	}
	return &query('sl_warehouses');
}

sub validate_opr_warehouses {
# --------------------------------------------------------
	my ($err);

	if( int($in{'edit'}) == 1 ){
		#### Se valida si se está inactivando un Warehouse con inventario
		my $sql = "SELECT Status FROM sl_warehouses WHERE ID_warehouses = ".$in{'id_warehouses'}.";";
		my $sth_st = &Do_SQL($sql);
		$status_before = $sth_st->fetchrow();

		if( $status_before eq 'Active' and $in{'status'} eq 'Inactive' ){
			$sql = "SELECT SUM(Quantity) Qty FROM sl_warehouses_location WHERE ID_warehouses = ".$in{'id_warehouses'}." GROUP BY ID_warehouses;";
			my $sth_qty = &Do_SQL($sql);
			my $qty_w = $sth_qty->fetchrow();
			if( int($qty_w) > 0 ){
				++$err;
				$error{'status'} = &trans_txt('invalid');
	            $va{'message'} = &trans_txt('opr_warehouses_inventory_in_stock');

	            return ++$err;
			}
		}
	}
	
	if( $in{'deliveryzones'} ne '' ){
		$in{'deliveryzones'} =~ s/\s//g;
	}
}


sub loading_opr_warehouses {
# --------------------------------------------------------	
# Forms Involved:
# Author: Huitzilihuitl C. 
# Description: Calcula el nombre y ruta de la imagen asociada al Warehouses basado en su ID (id_warehouses)
# Parameters:  
# Created on: 25-Enero-2017

	$in{'picture'} =~ s/<br>//g;

}


1;